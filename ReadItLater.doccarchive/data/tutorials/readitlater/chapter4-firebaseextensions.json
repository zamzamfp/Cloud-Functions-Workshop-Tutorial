{"variants":[{"paths":["\/tutorials\/readitlater\/chapter4-firebaseextensions"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now, you want to send a weekly email reminder to your users with their articles of the week. This is a common use case that can be easily achieved with Firebase Cloud Functions. Firebase Cloud Functions provide a simple yet powerful way to set up email extensions for your application, allowing you to send emails programmatically. In this chapter, we will guide you through the process of setting up email extensions for Firebase Cloud Functions and demonstrate how to create a Pub\/Sub function to trigger email notifications. By the end of this chapter, you will have a working understanding of how to leverage Firebase Cloud Functions to send emails and create Pub\/Sub functions. So let’s dive in and learn how to set up email extensions for Firebase Cloud Functions!"}]}],"estimatedTimeInMinutes":50,"title":"Use of Extensions and pub\/sub Functions","image":"chapter4-complexApp.png","xcodeRequirement":"Xcode 14","chapter":"Use of Extensions and pub\/sub Functions","kind":"hero","backgroundImage":"chapter4-complexApp.png"},{"kind":"tasks","tasks":[{"anchor":"Set-Up-Email-Extension","title":"Set Up Email Extension","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Firebase Extensions help you deploy functionality to your app quickly with pre-packaged solutions."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once installed, a Firebase Extension performs a specific task or set of tasks in response to HTTPS requests, Cloud Scheduler events, or to triggering events from other Firebase products, like Cloud Firestore or Firebase Cloud Messaging."}]}],"mediaPosition":"trailing","media":"outline-puzzlepiece.extension.png"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open "},{"type":"reference","isActive":true,"identifier":"https:\/\/extensions.dev\/extensions\/firebase\/firestore-send-email"},{"type":"text","text":". Here you get an overview of this extension and how it works."},{"type":"text","text":" "},{"type":"text","text":"Click on "},{"type":"strong","inlineContent":[{"type":"text","text":"Install in Firebase console"}]},{"type":"text","text":" button."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-00.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"By clicking "},{"type":"strong","inlineContent":[{"type":"text","text":"Install in Firebase console"}]},{"type":"text","text":" you will be taken to your Firebase console to choose which project you want to add this extension to. Select the project you created earlier."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-firebaseConsole.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Follow the steps to install the Email extension."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-01.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You might need to enable extra things to make sure the extension works."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-02.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now you need to configure the extension. Select the location for Cloud Functions. Remember that you can not change the location later."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-03.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Fill the "},{"type":"strong","inlineContent":[{"type":"text","text":"SMTP connection URI"}]},{"type":"text","text":" with the following "},{"type":"codeVoice","code":"smtps:\/\/superchargemobileapps@gmail.com@smtp.gmail.com:465"},{"type":"text","text":" You can change this to your preferred STMP server."},{"type":"text","text":" "},{"type":"text","text":"Also scan the QR code from the slide to get the App Password and add it in the place of "},{"type":"strong","inlineContent":[{"type":"text","text":"SMTP password"}]},{"type":"text","text":" "},{"type":"text","text":"If you want to use your own email account you need to create an "},{"type":"strong","inlineContent":[{"type":"text","text":"App Password"}]},{"type":"text","text":" From you google account and add that here."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-04.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Fill in the "},{"type":"strong","inlineContent":[{"type":"text","text":"Default FROM address"}]},{"type":"text","text":" with "},{"type":"codeVoice","code":"Hello From Firebase Workshop <superchargemobileapps@gmail.com>"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Fill in the "},{"type":"strong","inlineContent":[{"type":"text","text":"Default REPLY-TO address"}]},{"type":"text","text":" with "},{"type":"codeVoice","code":"superchargemobileapps@gmail.com"},{"type":"text","text":". Leave the rest to be as they are. Press "},{"type":"strong","inlineContent":[{"type":"text","text":"Install Extension"}]},{"type":"text","text":" at the bottom."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-05.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Wait for the extension to be installed."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-06.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"After it has been installed click on the right arrow "},{"type":"strong","inlineContent":[{"type":"text","text":"Manage"}]}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-07.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Navigate to "},{"type":"strong","inlineContent":[{"type":"text","text":"How this extension works"}]},{"type":"text","text":" and follow the steps to test it from the Firebase console."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-08.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Navigate to "},{"type":"strong","inlineContent":[{"type":"text","text":"Firestore Database"}]},{"type":"text","text":" tab and create a "},{"type":"strong","inlineContent":[{"type":"text","text":"mail"}]},{"type":"text","text":" collection. Then create a new document with the following format."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-09.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"By pressing save and waiting for a few seconds your document should look like this."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-10.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now lets test this locally. Navigate to your "},{"type":"strong","inlineContent":[{"type":"text","text":"functions"}]},{"type":"text","text":" folder in "},{"type":"strong","inlineContent":[{"type":"text","text":"Visual Studio Code"}]},{"type":"text","text":". Run "},{"type":"codeVoice","code":"npm run serve"},{"type":"text","text":". When the emulators start navigate to emulator UI, and select "},{"type":"strong","inlineContent":[{"type":"text","text":"Extension"}]}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-11.png"},{"code":"chapter4-exportFirebaseExtensions.sh","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"As you can see the Email extension does not show up here. Run the following command to export the extensions instances from your production project."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"When asked the following select "},{"type":"codeVoice","code":"yes"},{"type":"text","text":". Then you will see that the "},{"type":"codeVoice","code":"extensions"},{"type":"text","text":" folder is added to your project including "},{"type":"codeVoice","code":"firestore-send-email.env"},{"type":"text","text":" file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-12.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now run "},{"type":"codeVoice","code":"npm run serve"},{"type":"text","text":" agian and you should see the following in the console."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-13.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can check out the Firebase Emulator as well and in the "},{"type":"strong","inlineContent":[{"type":"text","text":"Extensions"}]},{"type":"text","text":" tab you should see the Email extension."},{"type":"text","text":" "},{"type":"text","text":"You can test it the same way you tested it on Firebase console."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-14.png"}]},{"anchor":"Adding-pubsub-Functions","title":"Adding pub\/sub Functions","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Google Cloud’s Pub\/Sub is a globally distributed message bus that automatically scales as you need it. You can create a function that handles Pub\/Sub events by using functions.pubsub. Learn more "},{"type":"reference","isActive":true,"identifier":"https:\/\/firebase.google.com\/docs\/functions\/pubsub-events"},{"type":"text","text":". In this section you’ll learn how to send scheduled emails with a summary of user’s articles."}]}],"mediaPosition":"trailing","media":"chapter4-clock.png"}],"stepsSection":[{"code":"chapter4-index-01.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Navigate to your "},{"type":"codeVoice","code":"functions\/src\/index.ts"},{"type":"text","text":" file in "},{"type":"codeVoice","code":"Visual Studio Code"},{"type":"text","text":", and start coding the pub\/sub function ⏰"},{"type":"text","text":" "},{"type":"text","text":"This code will create a schedule function that runs every two minutes. For the sake of this tutorial we are using two minutes to be able to test it easier. Feel free to checkout "},{"type":"reference","isActive":true,"identifier":"https:\/\/cloud.google.com\/appengine\/docs\/legacy\/standard\/python\/config\/cronref"},{"type":"text","text":" to see how you can set different schedules."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"chapter4-index-02.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now we need to get the reference to "},{"type":"codeVoice","code":"articles"},{"type":"text","text":" and "},{"type":"codeVoice","code":"mail"},{"type":"text","text":" collections. We can do that by these two lines."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"chapter4-index-03.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to send emails to each user, first we need to get the "},{"type":"codeVoice","code":"articles"},{"type":"text","text":" that have a "},{"type":"codeVoice","code":"userId"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"chapter4-index-04.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now we need to group the articles based on "},{"type":"codeVoice","code":"userId"},{"type":"text","text":"s."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"chapter4-index-05.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that we have grouped the articles based on userIds, we need to go through each user and create a mail document for that user. By adding a document to the "},{"type":"codeVoice","code":"mail"},{"type":"text","text":" collection as you know it will trigger the email extension and send the email to each user with their list of the document"}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you try to run the code now you must get an error! The reason for that is that, this function "},{"type":"codeVoice","code":"generateMessageHtml()"},{"type":"text","text":" is not defined."}]},{"code":"chapter4-index-06.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can see the code for this function "},{"type":"codeVoice","code":"generateMessageHtml()"},{"type":"text","text":" here, what it does is that it will make an email template which includes a snapshot of user’s articles."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now to test it you need to deploy your functions."},{"type":"text","text":" "},{"type":"text","text":"\/\/ todo: add the deployed screenshot"},{"type":"text","text":" "},{"type":"text","text":"\/\/ maybe it is possible to run it locally?"}]}],"caption":[],"type":"step","runtimePreview":null,"media":null}]},{"anchor":"Bonus-Content-Handlebar","title":"Bonus Content: Handlebar","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can specify a “Templates collection” parameter during configuration of the extension, you can create and manage "},{"type":"reference","isActive":true,"identifier":"https:\/\/handlebarsjs.com"},{"type":"text","text":" templates for your emails."}]}],"mediaPosition":"trailing","media":"chapter4-doc.png"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now instead of using this function "},{"type":"codeVoice","code":"generateMessageHtml()"},{"type":"text","text":" let’s use a handlebar templates to give a template to our mail. In order to do that you need to first mark this in your email extension configuration. Navigation to the "},{"type":"strong","inlineContent":[{"type":"text","text":"Extensions"}]},{"type":"text","text":" tab in the Firebase console. Then select the "},{"type":"strong","inlineContent":[{"type":"text","text":"Extension configuration"}]},{"type":"text","text":". Then add "},{"type":"codeVoice","code":"handlebar"},{"type":"text","text":" to the "},{"type":"strong","inlineContent":[{"type":"text","text":"Templates collection"}]},{"type":"text","text":". Save and wait for it to save the changes."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"chapter4-installingEmailExtension-15.png"},{"code":"chapter4-exportFirebaseExtensions.sh","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"At this point we are saying that the template that should be used is inside handlebar collection. Now go back to your "},{"type":"codeVoice","code":"Visual Studio Code"},{"type":"text","text":" and run this command again to fetch the changes."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"chapter4-index-07.ts","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Go back to the part of the code where you were making the mail document and replace that "},{"type":"codeVoice","code":"for"},{"type":"text","text":" with the following and remove "},{"type":"codeVoice","code":"generateMessageHtml()"},{"type":"text","text":" function. What you are doing here is that you are using a template with the name "},{"type":"codeVoice","code":"sendingArticles"},{"type":"text","text":" and it needs a "},{"type":"codeVoice","code":"data"},{"type":"text","text":" object which includes "},{"type":"codeVoice","code":"username"},{"type":"text","text":" and an array of "},{"type":"codeVoice","code":"aricles"}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"html","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now run your project using "},{"type":"codeVoice","code":"npm run serve"},{"type":"text","text":" and go to your Firebae Eumulator UI. Navigate to the "},{"type":"codeVoice","code":"Firestore"},{"type":"text","text":" tab and create "},{"type":"codeVoice","code":"handlebar"},{"type":"text","text":" collection. In this collection create a document with this name "},{"type":"codeVoice","code":"sendingArticles"},{"type":"text","text":". This article needs to have a "},{"type":"codeVoice","code":"subject"},{"type":"text","text":" field with the following format "},{"type":"codeVoice","code":"{{username}} here are your articles"},{"type":"text","text":" and the "},{"type":"codeVoice","code":"html"},{"type":"text","text":" field with the following code."},{"type":"text","text":" "},{"type":"text","text":"\/\/ todo: make sure the template works"}]}],"caption":[],"type":"step","runtimePreview":"chapter4-installingEmailExtension-16.png","media":null},{"code":"html","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"From now on for mails that are added for each of your users to the "},{"type":"codeVoice","code":"mail"},{"type":"text","text":" collection, when sent via email they will have the format you inserted in the "},{"type":"codeVoice","code":"handlebar\/sendingArticles"},{"type":"text","text":" document."}]}],"caption":[],"type":"step","runtimePreview":"chapter4-installingEmailExtension-16.png","media":null}]}]}],"identifier":{"url":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions","interfaceLanguage":"swift"},"kind":"project","metadata":{"title":"Use of Extensions and pub\/sub Functions","categoryPathComponent":"SuperchargeYourAppWithCF","role":"project","category":"Supercharge Your APP with Cloud Functions"},"hierarchy":{"modules":[{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Simple-HTTPS-Functions-and-Calling-Them-From-iOS-\/-Android-App","projects":[{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions","sections":[{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Create-Simple-Cloud-Functions"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Deploy-And-Test-Your-Functions"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Add-Firebase-TO-iOSAndroid-APP"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Use-of-Firebase-Emulator"}]}]},{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Complex-cloud-functions-with-Real-world-Example","projects":[{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions","sections":[{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Add-new-Articles-to-Cloud-Firestore"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Implement-a-Cloud-Firestore-Trigger"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Fetch-the-Articles-Metadata-and-HTML"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Compute-the-Reading-Time"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Update-the-Article-in-Cloud-Firestore"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Wrap-Up"}]}]},{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Building-Intelligent-Applications-with-Callable-Functions-and-OpenAI-APIs","projects":[{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter3-CallableFunctions","sections":[{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter3-CallableFunctions#Callable-Functions"}]}]},{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Use-of-Extensions-and-pub\/sub-Functions","projects":[{"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions","sections":[{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Set-Up-Email-Extension"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Adding-pubsub-Functions"},{"kind":"task","reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Bonus-Content-Handlebar"}]}]}],"reference":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF","paths":[["doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF","doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/$volume","doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Use-of-Extensions-and-pub\/sub-Functions"]]},"references":{"chapter4-installingEmailExtension-08.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-08.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-08.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-05.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-05.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-05.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter1-SimpleFunctions":{"role":"project","title":"Simple HTTPS Functions and Calling Them From iOS \/ Android App","estimatedTime":"50min","abstract":[{"type":"text","text":"Welcome to this chapter, where we will explore the exciting world of Simple HTTPS Functions and calling them from iOS \/ Android app. In this chapter, we will dive into the nuts and bolts of how to create and call simple HTTPS functions, including a hello world function and a greet the user function."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions","kind":"project","type":"topic","url":"\/tutorials\/readitlater\/chapter1-simplefunctions"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter3-CallableFunctions":{"role":"project","title":"Building Intelligent Applications with Callable Functions and OpenAI APIs","estimatedTime":"1hr 10min","abstract":[{"type":"text","text":"In this part, we will explore how to build intelligent applications with OpenAI APIs using callable functions. We will begin by discussing the benefits of using callable functions and how they can be used to leverage the power of OpenAI APIs."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter3-CallableFunctions","kind":"project","type":"topic","url":"\/tutorials\/readitlater\/chapter3-callablefunctions"},"Xcode 14":{"title":"Xcode 14","type":"xcodeRequirement","identifier":"Xcode 14","url":"https:\/\/xcodereleases.com\/"},"chapter4-firebaseConsole.png":{"alt":"Firebase console","type":"image","identifier":"chapter4-firebaseConsole.png","variants":[{"url":"\/images\/chapter4-firebaseConsole.png","traits":["1x","light"]}]},"https://firebase.google.com/docs/functions/pubsub-events":{"title":"here","titleInlineContent":[{"type":"text","text":"here"}],"type":"link","identifier":"https:\/\/firebase.google.com\/docs\/functions\/pubsub-events","url":"https:\/\/firebase.google.com\/docs\/functions\/pubsub-events"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter4-FirebaseExtensions#Adding-pubsub-Functions":{"role":"pseudoSymbol","title":"Adding pub\/sub Functions","abstract":[{"type":"text","text":"Now, you want to send a weekly email reminder to your users with their articles of the week. This is a common use case that can be easily achieved with Firebase Cloud Functions. Firebase Cloud Functions provide a simple yet powerful way to set up email extensions for your application, allowing you to send emails programmatically. In this chapter, we will guide you through the process of setting up email extensions for Firebase Cloud Functions and demonstrate how to create a Pub\/Sub function to trigger email notifications. By the end of this chapter, you will have a working understanding of how to leverage Firebase Cloud Functions to send emails and create Pub\/Sub functions. So let’s dive in and learn how to set up email extensions for Firebase Cloud Functions!"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Adding-pubsub-Functions","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter4-firebaseextensions#Adding-pubsub-Functions"},"chapter4-installingEmailExtension-02.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-02.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-02.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/SuperchargeYourAppWithCF/Complex-cloud-functions-with-Real-world-Example":{"role":"article","title":"Complex cloud functions with Real world Example","abstract":[],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Complex-cloud-functions-with-Real-world-Example","kind":"article","type":"topic","url":"\/tutorials\/superchargeyourappwithcf\/complex-cloud-functions-with-real-world-example"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Update-the-Article-in-Cloud-Firestore":{"role":"pseudoSymbol","title":"Update the Article in Cloud Firestore","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Update-the-Article-in-Cloud-Firestore","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Update-the-Article-in-Cloud-Firestore"},"chapter4-installingEmailExtension-15.png":{"alt":"Handlebar","type":"image","identifier":"chapter4-installingEmailExtension-15.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-15.png","traits":["1x","light"]}]},"https://extensions.dev/extensions/firebase/firestore-send-email":{"title":"Trigger Email from Firestore","titleInlineContent":[{"type":"text","text":"Trigger Email from Firestore"}],"type":"link","identifier":"https:\/\/extensions.dev\/extensions\/firebase\/firestore-send-email","url":"https:\/\/extensions.dev\/extensions\/firebase\/firestore-send-email"},"chapter4-index-07.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","        ","    const articlesSnapshot = await articlesRef.where('userId', '!=', '').get();","    ","    const articlesByUserId = {} as ArticlesByUserId;","    articlesSnapshot.forEach((doc) => {","        const article = doc.data() as ArticleDocument;","        const userId = doc.data().userId;","        if (!articlesByUserId[userId]) {","            articlesByUserId[userId] = [];","        }","        articlesByUserId[userId].push(article);","    });","    ","    const userIds = Object.keys(articlesByUserId);","    for (let i = 0; i < userIds.length; i++) {","        const userId = userIds[i];","        const articles = articlesByUserId[userId];","        ","        const userSnapshot =  await admin.auth().getUser(userId);","        ","        const email = userSnapshot.email;","        ","        const userName = userSnapshot.displayName","        ","        const mailDoc = {","            template: {","              name: \"sendingArticles\",","              data: {","                username: userName,","                articles: articles,","              },","            },","            to: [email]","          };","        await mailRef.add(mailDoc);","    }","});"],"fileName":"index.ts","identifier":"chapter4-index-07.ts","type":"file","fileType":"ts","highlights":[]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/SuperchargeYourAppWithCF/Simple-HTTPS-Functions-and-Calling-Them-From-iOS-/-Android-App":{"role":"article","title":"Simple HTTPS Functions and Calling Them From iOS \/ Android App","abstract":[],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Simple-HTTPS-Functions-and-Calling-Them-From-iOS-\/-Android-App","kind":"article","type":"topic","url":"\/tutorials\/superchargeyourappwithcf\/simple-https-functions-and-calling-them-from-ios-\/-android-app"},"chapter4-installingEmailExtension-00.png":{"alt":"Trigger Email from Firestore","type":"image","identifier":"chapter4-installingEmailExtension-00.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-00.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-01.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-01.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-01.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions":{"role":"project","title":"Cloud Firestore Triggers","estimatedTime":"30min","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions","kind":"project","type":"topic","url":"\/tutorials\/readitlater\/chapter2-complexfunctions"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Implement-a-Cloud-Firestore-Trigger":{"role":"pseudoSymbol","title":"Implement a Cloud Firestore Trigger","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Implement-a-Cloud-Firestore-Trigger","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Implement-a-Cloud-Firestore-Trigger"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Add-new-Articles-to-Cloud-Firestore":{"role":"pseudoSymbol","title":"Add new Articles to Cloud Firestore","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Add-new-Articles-to-Cloud-Firestore","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Add-new-Articles-to-Cloud-Firestore"},"chapter4-index-02.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","}"],"fileName":"index.ts","identifier":"chapter4-index-02.ts","type":"file","fileType":"ts","highlights":[{"line":3},{"line":4}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Compute-the-Reading-Time":{"role":"pseudoSymbol","title":"Compute the Reading Time","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Compute-the-Reading-Time","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Compute-the-Reading-Time"},"chapter4-index-06.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","        ","    const articlesSnapshot = await articlesRef.where('userId', '!=', '').get();","    ","    const articlesByUserId = {} as ArticlesByUserId;","    articlesSnapshot.forEach((doc) => {","        const article = doc.data() as ArticleDocument;","        const userId = doc.data().userId;","        if (!articlesByUserId[userId]) {","            articlesByUserId[userId] = [];","        }","        articlesByUserId[userId].push(article);","    });","    ","    const userIds = Object.keys(articlesByUserId);","    for (let i = 0; i < userIds.length; i++) {","        const userId = userIds[i];","        const articles = articlesByUserId[userId];","        ","        const userSnapshot =  await admin.auth().getUser(userId);","        ","        const email = userSnapshot.email;","        ","        const mailDoc = {","        userId: userId,","        articles: articles,","        message: {","        subject: 'Hello from Firebase!',","        html: generateMessageHtml(articles),","        },","        to: [email]\/\/,","        };","        await mailRef.add(mailDoc);","    }","});","","\/\/ Generates the email template to contain some info from each article","function generateMessageHtml(articles: ArticleDocument[]): string {","    let messageHtml = '<div style=\"font-family: Arial, sans-serif; font-size: 16px; line-height: 1.5; color: #333;\">';","    messageHtml += '<h2 style=\"font-size: 24px; font-weight: bold; margin-bottom: 20px;\">Here is an overview of your saved articles:<\/h2>';","    messageHtml += '<div style=\"display: flex; flex-wrap: wrap; justify-content: center;\">';","    for (const article of articles) {","        messageHtml += `","        <div style=\"margin: 20px; padding: 20px; background-color: #fff; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); border-radius: 8px; width: 100%; display: flex; align-items: center;\">","        <img src=\"${article.imageUrl}\" alt=\"${article.title}\" style=\"max-width: 80px; max-height: 80px; margin-right: 20px; object-fit: contain;\">","        <div>","        <h3 style=\"font-size: 20px; font-weight: bold; margin: 0 0 10px;\">${article.title}<\/h3>","        <p style=\"font-size: 16px; margin: 0 0 10px;\">","        <a href=\"${article.url}\" target=\"_blank\" style=\"color: #333; text-decoration: none;\">${article.siteName}<\/a>","        <\/p>","        <\/div>","        <\/div>","        <br>","        `;","    }","    messageHtml += '<\/div>';","    messageHtml += '<\/div>';","    return messageHtml;","}"],"fileName":"index.ts","identifier":"chapter4-index-06.ts","type":"file","fileType":"ts","highlights":[{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter3-CallableFunctions#Callable-Functions":{"role":"pseudoSymbol","title":"Callable Functions","abstract":[{"type":"text","text":"In this part, we will explore how to build intelligent applications with OpenAI APIs using callable functions. We will begin by discussing the benefits of using callable functions and how they can be used to leverage the power of OpenAI APIs."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter3-CallableFunctions#Callable-Functions","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter3-callablefunctions#Callable-Functions"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter1-SimpleFunctions#Create-Simple-Cloud-Functions":{"role":"pseudoSymbol","title":"Create Simple Cloud Functions","abstract":[{"type":"text","text":"Welcome to this chapter, where we will explore the exciting world of Simple HTTPS Functions and calling them from iOS \/ Android app. In this chapter, we will dive into the nuts and bolts of how to create and call simple HTTPS functions, including a hello world function and a greet the user function."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Create-Simple-Cloud-Functions","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter1-simplefunctions#Create-Simple-Cloud-Functions"},"chapter4-installingEmailExtension-16.png":{"alt":"Handlebar","type":"image","identifier":"chapter4-installingEmailExtension-16.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-16.png","traits":["1x","light"]}]},"chapter4-index-03.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","        ","    const articlesSnapshot = await articlesRef.where('userId', '!=', '').get();","}"],"fileName":"index.ts","identifier":"chapter4-index-03.ts","type":"file","fileType":"ts","highlights":[{"line":5},{"line":6}]},"chapter4-installingEmailExtension-11.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-11.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-11.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/SuperchargeYourAppWithCF":{"role":"overview","title":"Introduction","abstract":[{"type":"text","text":"Accessing (backend) APIs can be a hassle for mobile engineers. Often, those APIs don’t deliver the data in the format (or structure) we need, so we have to write custom parsing logic on the client."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF","kind":"overview","type":"topic","url":"\/tutorials\/superchargeyourappwithcf"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter1-SimpleFunctions#Deploy-And-Test-Your-Functions":{"role":"pseudoSymbol","title":"Deploy And Test Your Functions","abstract":[{"type":"text","text":"Welcome to this chapter, where we will explore the exciting world of Simple HTTPS Functions and calling them from iOS \/ Android app. In this chapter, we will dive into the nuts and bolts of how to create and call simple HTTPS functions, including a hello world function and a greet the user function."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Deploy-And-Test-Your-Functions","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter1-simplefunctions#Deploy-And-Test-Your-Functions"},"chapter4-installingEmailExtension-04.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-04.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-04.png","traits":["1x","light"]}]},"outline-puzzlepiece.extension.png":{"alt":"Extensions","type":"image","identifier":"outline-puzzlepiece.extension.png","variants":[{"url":"\/images\/outline-puzzlepiece.extension.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Wrap-Up":{"role":"pseudoSymbol","title":"Wrap Up","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Wrap-Up","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Wrap-Up"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter4-FirebaseExtensions#Bonus-Content-Handlebar":{"role":"pseudoSymbol","title":"Bonus Content: Handlebar","abstract":[{"type":"text","text":"Now, you want to send a weekly email reminder to your users with their articles of the week. This is a common use case that can be easily achieved with Firebase Cloud Functions. Firebase Cloud Functions provide a simple yet powerful way to set up email extensions for your application, allowing you to send emails programmatically. In this chapter, we will guide you through the process of setting up email extensions for Firebase Cloud Functions and demonstrate how to create a Pub\/Sub function to trigger email notifications. By the end of this chapter, you will have a working understanding of how to leverage Firebase Cloud Functions to send emails and create Pub\/Sub functions. So let’s dive in and learn how to set up email extensions for Firebase Cloud Functions!"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Bonus-Content-Handlebar","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter4-firebaseextensions#Bonus-Content-Handlebar"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter4-FirebaseExtensions":{"role":"project","title":"Use of Extensions and pub\/sub Functions","estimatedTime":"50min","abstract":[{"type":"text","text":"Now, you want to send a weekly email reminder to your users with their articles of the week. This is a common use case that can be easily achieved with Firebase Cloud Functions. Firebase Cloud Functions provide a simple yet powerful way to set up email extensions for your application, allowing you to send emails programmatically. In this chapter, we will guide you through the process of setting up email extensions for Firebase Cloud Functions and demonstrate how to create a Pub\/Sub function to trigger email notifications. By the end of this chapter, you will have a working understanding of how to leverage Firebase Cloud Functions to send emails and create Pub\/Sub functions. So let’s dive in and learn how to set up email extensions for Firebase Cloud Functions!"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions","kind":"project","type":"topic","url":"\/tutorials\/readitlater\/chapter4-firebaseextensions"},"chapter4-installingEmailExtension-13.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-13.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-13.png","traits":["1x","light"]}]},"chapter4-complexApp.png":{"alt":"Use of Extensions and pub\/sub Functions","type":"image","identifier":"chapter4-complexApp.png","variants":[{"url":"\/images\/chapter4-complexApp.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-12.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-12.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-12.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter4-FirebaseExtensions#Set-Up-Email-Extension":{"role":"pseudoSymbol","title":"Set Up Email Extension","abstract":[{"type":"text","text":"Now, you want to send a weekly email reminder to your users with their articles of the week. This is a common use case that can be easily achieved with Firebase Cloud Functions. Firebase Cloud Functions provide a simple yet powerful way to set up email extensions for your application, allowing you to send emails programmatically. In this chapter, we will guide you through the process of setting up email extensions for Firebase Cloud Functions and demonstrate how to create a Pub\/Sub function to trigger email notifications. By the end of this chapter, you will have a working understanding of how to leverage Firebase Cloud Functions to send emails and create Pub\/Sub functions. So let’s dive in and learn how to set up email extensions for Firebase Cloud Functions!"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter4-FirebaseExtensions#Set-Up-Email-Extension","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter4-firebaseextensions#Set-Up-Email-Extension"},"chapter4-index-04.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","        ","    const articlesSnapshot = await articlesRef.where('userId', '!=', '').get();","    ","    const articlesByUserId = {} as ArticlesByUserId;","    articlesSnapshot.forEach((doc) => {","        const article = doc.data() as ArticleDocument;","        const userId = doc.data().userId;","        if (!articlesByUserId[userId]) {","            articlesByUserId[userId] = [];","        }","        articlesByUserId[userId].push(article);","    });","}"],"fileName":"index.ts","identifier":"chapter4-index-04.ts","type":"file","fileType":"ts","highlights":[{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16}]},"html":{"syntax":"","content":["<head>","  <meta charset=\"utf-8\">","  <h2>Articles <\/title>","  <\/h2>","<body>","  <ul> {{#each articles}}","      <li>","        <img src={{this.imageUrl}} alt={{this.title}} style=\"max-width: 80px; max-height: 80px; margin-right: 20px; object-fit: contain;\">","        <div>","          <h3 style=\"font-size: 20px; font-weight: bold; margin: 0 0 10px;\">\"{{this.url}}”<\/h3>","          <p style=\"font-size: 16px; margin: 0 0 10px;\">","            <a href={{this.url}} target=\"_blank\" style=\"color:#333; text-decoration: none;\">{{this.siteName}}<\/a>","          <\/p>","        <\/div>","      <\/li>","    {{\/each}}","  <\/ul>","<\/body>","<\/html>"],"fileName":"Handlebar html","identifier":"html","type":"file","fileType":"","highlights":[]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/SuperchargeYourAppWithCF/Use-of-Extensions-and-pub/sub-Functions":{"role":"article","title":"Use of Extensions and pub\/sub Functions","abstract":[],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Use-of-Extensions-and-pub\/sub-Functions","kind":"article","type":"topic","url":"\/tutorials\/superchargeyourappwithcf\/use-of-extensions-and-pub\/sub-functions"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter1-SimpleFunctions#Add-Firebase-TO-iOSAndroid-APP":{"role":"pseudoSymbol","title":"Add Firebase TO iOS\/Android APP","abstract":[{"type":"text","text":"Welcome to this chapter, where we will explore the exciting world of Simple HTTPS Functions and calling them from iOS \/ Android app. In this chapter, we will dive into the nuts and bolts of how to create and call simple HTTPS functions, including a hello world function and a greet the user function."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Add-Firebase-TO-iOSAndroid-APP","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter1-simplefunctions#Add-Firebase-TO-iOSAndroid-APP"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter2-ComplexFunctions#Fetch-the-Articles-Metadata-and-HTML":{"role":"pseudoSymbol","title":"Fetch the Article's Metadata and HTML","abstract":[{"type":"text","text":"This tutorial guides you through a typical scenario for using "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Functions"}]},{"type":"text","text":" in a Firebase app. You will write a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Cloud Function"}]},{"type":"text","text":" that will be run every time the user write"}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter2-ComplexFunctions#Fetch-the-Articles-Metadata-and-HTML","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter2-complexfunctions#Fetch-the-Articles-Metadata-and-HTML"},"chapter4-installingEmailExtension-07.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-07.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-07.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-09.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-09.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-09.png","traits":["1x","light"]}]},"chapter4-exportFirebaseExtensions.sh":{"syntax":"sh","content":["# Run the following command to get the `id` of your project","$ firebase use","","# Run the following command to export the Firebase Extension","$ firebase ext:export --project=you-project-id"],"fileName":"exportFirebaseExtensions.sh","identifier":"chapter4-exportFirebaseExtensions.sh","type":"file","fileType":"sh","highlights":[]},"chapter4-index-01.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ...","    \/\/ Code to be added here","    ...","    ","}"],"fileName":"index.ts","identifier":"chapter4-index-01.ts","type":"file","fileType":"ts","highlights":[]},"chapter4-installingEmailExtension-14.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-14.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-14.png","traits":["1x","light"]}]},"chapter4-doc.png":{"alt":"Handlebar Templates","type":"image","identifier":"chapter4-doc.png","variants":[{"url":"\/images\/chapter4-doc.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-03.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-03.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-03.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-06.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-06.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-06.png","traits":["1x","light"]}]},"doc://com.example.firebase.workshop.ReadItLater/tutorials/ReadItLater/Chapter1-SimpleFunctions#Use-of-Firebase-Emulator":{"role":"pseudoSymbol","title":"Use of Firebase Emulator","abstract":[{"type":"text","text":"Welcome to this chapter, where we will explore the exciting world of Simple HTTPS Functions and calling them from iOS \/ Android app. In this chapter, we will dive into the nuts and bolts of how to create and call simple HTTPS functions, including a hello world function and a greet the user function."}],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/ReadItLater\/Chapter1-SimpleFunctions#Use-of-Firebase-Emulator","kind":"section","type":"section","url":"\/tutorials\/readitlater\/chapter1-simplefunctions#Use-of-Firebase-Emulator"},"https://cloud.google.com/appengine/docs/legacy/standard/python/config/cronref":{"title":"here","titleInlineContent":[{"type":"text","text":"here"}],"type":"link","identifier":"https:\/\/cloud.google.com\/appengine\/docs\/legacy\/standard\/python\/config\/cronref","url":"https:\/\/cloud.google.com\/appengine\/docs\/legacy\/standard\/python\/config\/cronref"},"doc://com.example.firebase.workshop.ReadItLater/tutorials/SuperchargeYourAppWithCF/Building-Intelligent-Applications-with-Callable-Functions-and-OpenAI-APIs":{"role":"article","title":"Building Intelligent Applications with Callable Functions and OpenAI APIs","abstract":[],"identifier":"doc:\/\/com.example.firebase.workshop.ReadItLater\/tutorials\/SuperchargeYourAppWithCF\/Building-Intelligent-Applications-with-Callable-Functions-and-OpenAI-APIs","kind":"article","type":"topic","url":"\/tutorials\/superchargeyourappwithcf\/building-intelligent-applications-with-callable-functions-and-openai-apis"},"https://handlebarsjs.com":{"title":"Handlebars templates","titleInlineContent":[{"type":"text","text":"Handlebars templates"}],"type":"link","identifier":"https:\/\/handlebarsjs.com","url":"https:\/\/handlebarsjs.com"},"chapter4-index-05.ts":{"syntax":"ts","content":["export const scheduleMailSending = functions.pubsub.schedule('every 2 minutes').onRun(async (context) => {","    ","    const articlesRef = admin.firestore().collection('articles');","    const mailRef = admin.firestore().collection('mail');","        ","    const articlesSnapshot = await articlesRef.where('userId', '!=', '').get();","    ","    const articlesByUserId = {} as ArticlesByUserId;","    articlesSnapshot.forEach((doc) => {","        const article = doc.data() as ArticleDocument;","        const userId = doc.data().userId;","        if (!articlesByUserId[userId]) {","            articlesByUserId[userId] = [];","        }","        articlesByUserId[userId].push(article);","    });","    ","    const userIds = Object.keys(articlesByUserId);","    for (let i = 0; i < userIds.length; i++) {","        const userId = userIds[i];","        const articles = articlesByUserId[userId];","        ","        const userSnapshot =  await admin.auth().getUser(userId);","        ","        const email = userSnapshot.email;","        ","        const mailDoc = {","        userId: userId,","        articles: articles,","        message: {","        subject: 'Hello from Firebase!',","        html: generateMessageHtml(articles),","        },","        to: [email]\/\/,","        };","        ","        await mailRef.add(mailDoc);","    }","});"],"fileName":"index.ts","identifier":"chapter4-index-05.ts","type":"file","fileType":"ts","highlights":[{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39}]},"chapter4-clock.png":{"alt":"pub\/sub Functions","type":"image","identifier":"chapter4-clock.png","variants":[{"url":"\/images\/chapter4-clock.png","traits":["1x","light"]}]},"chapter4-installingEmailExtension-10.png":{"alt":"Installing Email Extension","type":"image","identifier":"chapter4-installingEmailExtension-10.png","variants":[{"url":"\/images\/chapter4-installingEmailExtension-10.png","traits":["1x","light"]}]}}}